business_unit: finance

projects:
  - name: payment-gateway
    description: Payment processing infrastructure
    
    var_sets:
      variables:
        - key: environment
          value: production
          category: terraform
          description: Environment identifier
        
        - key: compliance_framework
          value: pci-dss
          category: terraform
          description: Compliance framework (PCI-DSS for payment processing)
    
    workspaces:
      - name: payment-gateway-api
        description: Payment gateway API infrastructure
        terraform_version: "1.9.0"
        working_directory: "terraform/api"
        execution_mode: remote
        auto_apply: false
        
        trigger_prefixes:
          - "terraform/api/"
        
        vcs_repo:
          identifier: "CloudbrokerAz/payment-gateway"
          branch: "main"
        
        variables:
          - key: region
            value: us-east-1
            category: terraform
          
          - key: multi_az
            value: "true"
            category: terraform
          
          - key: instance_count
            value: "3"
            category: terraform
      
      - name: payment-gateway-database
        description: Payment gateway database (RDS PostgreSQL)
        terraform_version: "1.9.0"
        working_directory: "terraform/database"
        execution_mode: remote
        auto_apply: false
        
        trigger_prefixes:
          - "terraform/database/"
        
        vcs_repo:
          identifier: "CloudbrokerAz/payment-gateway"
          branch: "main"
        
        variables:
          - key: db_engine
            value: postgres
            category: terraform
          
          - key: db_version
            value: "15.3"
            category: terraform
          
          - key: db_instance_class
            value: db.r6g.xlarge
            category: terraform
          
          - key: backup_retention_days
            value: "30"
            category: terraform

  - name: financial-reporting
    description: Financial reporting and analytics infrastructure
    
    var_sets:
      variables:
        - key: environment
          value: production
          category: terraform
        
        - key: data_classification
          value: confidential
          category: terraform
    
    workspaces:
      - name: financial-reporting-etl
        description: ETL pipeline for financial data
        terraform_version: "1.9.0"
        working_directory: "terraform/etl"
        execution_mode: remote
        auto_apply: false
        
        trigger_prefixes:
          - "terraform/etl/"
        
        vcs_repo:
          identifier: "CloudbrokerAz/financial-reporting"
          branch: "main"
        
        variables:
          - key: etl_schedule
            value: "0 1 * * *"
            category: terraform
            description: "Daily at 1 AM UTC"
          
          - key: data_retention_days
            value: "2555"
            category: terraform
            description: "7 years for financial records"
      
      - name: financial-reporting-dashboard
        description: Financial reporting dashboards and visualizations
        terraform_version: "1.9.0"
        working_directory: "terraform/dashboard"
        execution_mode: remote
        auto_apply: false
        
        trigger_prefixes:
          - "terraform/dashboard/"
        
        vcs_repo:
          identifier: "CloudbrokerAz/financial-reporting"
          branch: "main"
        
        variables:
          - key: dashboard_users
            value: "50"
            category: terraform
          
          - key: enable_export
            value: "true"
            category: terraform
